{"ast":null,"code":"var _jsxFileName = \"/home/aakash/Desktop/Icomernbootcamp/projfronted/src/admin/UpdateCategory.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Base from \"../core/Base\";\nimport { isAuthenticated } from \"../auth/helper\";\nimport { Link } from \"react-router-dom\";\nimport { getCategory, updateCategory } from \"./helper/adminapicall\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UpdateCategory = ({\n  match\n}) => {\n  _s();\n\n  const [name, setName] = useState(\"\");\n  const [error, setError] = useState(false);\n  const [success, setSuccess] = useState(false);\n  const {\n    user,\n    token\n  } = isAuthenticated();\n\n  const preload = categoryId => {\n    getCategory(categoryId).then(data => {\n      if (data.error) {\n        setName({ ...name,\n          error: data.error\n        });\n      } else {\n        setName(data.name);\n      }\n    });\n  };\n\n  useEffect(() => {\n    preload(match.params.categoryId);\n  }, []);\n\n  const goBack = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-5\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        className: \"btn btn-sm btn-primary mb-3\",\n        to: \"/admin/categories\",\n        children: \"Go back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this);\n  };\n\n  const successMessage = () => {\n    if (success) {\n      return /*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"text-success text-center\",\n        children: \" Category Updated successfully\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 20\n      }, this);\n    }\n  };\n\n  const errorMessage = () => {\n    if (error) {\n      return /*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"text-danger text-center\",\n        children: \" Failed to Update category\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 20\n      }, this);\n    }\n  };\n\n  const onHandleChange = event => {\n    setError(\"\");\n    setName(event.target.value);\n  };\n\n  const onSubmit = event => {\n    event.preventDefault();\n    setError(\"\");\n    setSuccess(false);\n    updateCategory(match.params.category._Id, user._id, token).then(data => {\n      if (data.error) {\n        setError(true);\n      } else {\n        setError(\"\");\n        setSuccess(true);\n        setName(\"\");\n      }\n    });\n  };\n\n  const myCategoryForm = () => {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"lead\",\n          children: \"Enter the Category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control my-3\",\n          onChange: onHandleChange,\n          value: name,\n          autoFocus: true,\n          required: true,\n          placeholder: \"Ex. Summer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onSubmit,\n          className: \"btn btn-outline-info\",\n          children: \" Update Category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Base, {\n    title: \"Update Category\",\n    description: \"Update Category here !\",\n    className: \"container bg-white p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row bg-white\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-8 offset-md-2\",\n        children: [successMessage(), errorMessage(), myCategoryForm(), goBack()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 9\n  }, this);\n};\n\n_s(UpdateCategory, \"j5cU3Z5pu3lhL+8BA2sppdGDPIY=\");\n\n_c = UpdateCategory;\nexport default UpdateCategory;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdateCategory\");","map":{"version":3,"sources":["/home/aakash/Desktop/Icomernbootcamp/projfronted/src/admin/UpdateCategory.js"],"names":["React","useEffect","useState","Base","isAuthenticated","Link","getCategory","updateCategory","UpdateCategory","match","name","setName","error","setError","success","setSuccess","user","token","preload","categoryId","then","data","params","goBack","successMessage","errorMessage","onHandleChange","event","target","value","onSubmit","preventDefault","category","_Id","_id","myCategoryForm"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport Base from \"../core/Base\";\nimport {isAuthenticated} from \"../auth/helper\";\nimport {Link} from \"react-router-dom\";\nimport {getCategory, updateCategory} from \"./helper/adminapicall\";\n\nconst UpdateCategory = ({match}) => {\n\n    const [name, setName] = useState(\"\");\n    const [error, setError] = useState(false);\n    const [success, setSuccess] = useState(false);\n\n    const { user, token } = isAuthenticated()\n\n    const preload = (categoryId) => {\n        getCategory(categoryId).then(data => {\n            if (data.error) {\n                setName({...name, error: data.error});\n            } else {\n                setName(data.name);\n            }\n        });\n    };\n\n    useEffect(() => {\n        preload(match.params.categoryId);\n    }, [])\n\n    const goBack = () => {\n        return(\n            <div className=\"mt-5\">\n                <Link className=\"btn btn-sm btn-primary mb-3\" to=\"/admin/categories\" >\n                    Go back\n                </Link>\n            </div>\n        )};\n\n    const successMessage = () => {\n        if (success) {\n            return <h4 className=\"text-success text-center\"> Category Updated successfully</h4>\n        }\n    }\n\n    const errorMessage = () => {\n        if (error) {\n            return <h4 className=\"text-danger text-center\"> Failed to Update category</h4>\n        }\n    }\n\n    const onHandleChange = event => {\n        setError(\"\");\n        setName(event.target.value)\n    };\n\n    const onSubmit = (event) => {\n        event.preventDefault();\n        setError(\"\");\n        setSuccess(false);\n\n        updateCategory(match.params.category._Id ,user._id, token)\n            .then(data => {\n                if (data.error) {\n                    setError(true)\n                } else {\n                    setError(\"\")\n                    setSuccess(true)\n                    setName(\"\")\n                }\n            })\n    }\n\n    const myCategoryForm = () => {\n        return(\n            <form>\n                <div className=\"form-group\">\n                    <p className=\"lead\">Enter the Category</p>\n                    <input\n                        type=\"text\"\n                        className=\"form-control my-3\"\n                        onChange={onHandleChange}\n                        value={name}\n                        autoFocus\n                        required\n                        placeholder=\"Ex. Summer\"/>\n                    <button onClick={onSubmit} className=\"btn btn-outline-info\"> Update Category</button>\n                </div>\n            </form>\n        )};\n\n    return(\n        <Base title=\"Update Category\" description=\"Update Category here !\" className=\"container bg-white p-4\">\n            <div className=\"row bg-white\">\n                <div className=\"col-md-8 offset-md-2\">\n                    {successMessage()}\n                    {errorMessage()}\n                    {myCategoryForm()}\n                    {goBack()}\n                </div>\n            </div>\n        </Base>\n    )\n}\n\nexport default UpdateCategory;"]},"metadata":{},"sourceType":"module"}